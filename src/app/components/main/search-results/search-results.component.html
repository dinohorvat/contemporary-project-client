<div class="main-content">

    <div class="has-text-centered">
        <pagination-controls (pageChange)="getPage($event)" id="server"></pagination-controls>
    </div>

    <div class="container-fluid">
        <div class="col-md-12">
            <div *ngFor="let result of getResultData() | paginate: { id: 'server', itemsPerPage: 10,
            currentPage: p, totalItems: getTotalCount() }"
                 class="card results-cards">
                <div (click)="getDocument(result.eventid)" class="card-content">
                    <h4 class="title"><b>{{result.attacktype1_txt}}</b></h4>
                    <p class="category"><b>{{result.country_txt}} - {{result.city}}, {{result.location}}</b></p>
                    <p>{{result.addnotes}}</p>
                </div>
            </div>
        </div>

        <p-dialog appendTo="body" header="{{selectedResult.attacktype1_txt}}" [(visible)]="display" modal="modal" [responsive]="true"
                  [width]="800" [minWidth]="200" [minY]="70">

            <div class="row">
                <div class="col-md-3"><p>Attack Type:</p></div>
                <div class="col-md-9"><p>{{selectedResult.attacktype1_txt}}</p></div>
            </div>
            <div class="row">
                <div class="col-md-3"><p>Location:</p></div>
                <div class="col-md-9"><p>{{selectedResult.country_txt}} - {{selectedResult.city}}, {{selectedResult.location}}</p></div>
            </div>
            <div class="row">
                <div class="col-md-3"><p>Summary:</p></div>
                <div class="col-md-9"><p>{{selectedResult.summary}}</p></div>
            </div>
            <div class="row">
                <div class="col-md-3"><p>Note:</p></div>
                <div class="col-md-9"><p>{{selectedResult.addnotes}}</p></div>
            </div>

            <div class="row">
                <div class="col-md-3"><p>Comment:</p></div>
                <div class="col-md-9"><textarea [rows]="5" [cols]="60" [(ngModel)]="comment.comment" pInputTextarea autoResize="autoResize"></textarea></div>
            </div>
            <div class="row">
                <div class="col-md-3"><p>Comments:</p></div>
                <div class="col-md-9">
                    <div *ngFor="let comment of selectedResult.comments">
                        <p>{{comment.comment}}</p>
                    </div>
                </div>
            </div>
            <p-footer>
                <button [disabled]="!comment.comment" (click)="saveComment()" type="button" pButton icon="fa-send" (click)="display=false" label="Post Comment"></button>
                <button type="button" pButton icon="fa-close" (click)="display=false" label="Close"></button>
            </p-footer>
        </p-dialog>

    </div>
</div>